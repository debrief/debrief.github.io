<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>19.4.&nbsp;Remove Jumps</title><link rel="stylesheet" type="text/css" href="header.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><meta name="keywords" content="Maritime Analysis, Open Source Tool"><link rel="home" href="index.html" title="Debrief NG User Documentation"><link rel="up" href="chap_debrief_algorithms.html" title="Chapter&nbsp;19.&nbsp;Debrief algorithms"><link rel="prev" href="other_algs.html" title="19.3.&nbsp;Other Debrief algorithms"><link rel="next" href="contouring_algorithm.html" title="19.5.&nbsp;Contouring algorithm"><link rel="preface" href="PrefaceIntro.html" title="Introduction"><link rel="part" href="tutorial.html" title="Part&nbsp;I.&nbsp;Getting started"><link rel="chapter" href="get_start.html" title="Chapter&nbsp;1.&nbsp;First steps"><link rel="part" href="UsingDebrief.html" title="Part&nbsp;II.&nbsp;Using Debrief"><link rel="chapter" href="moving_around.html" title="Chapter&nbsp;2.&nbsp;Moving around the view"><link rel="chapter" href="formatting_data.html" title="Chapter&nbsp;3.&nbsp;Manipulating track data"><link rel="chapter" href="analysing_data.html" title="Chapter&nbsp;4.&nbsp;Analysing Data"><link rel="chapter" href="exporting_data.html" title="Chapter&nbsp;5.&nbsp;Exporting Data"><link rel="chapter" href="symbol_sets.html" title="Chapter&nbsp;6.&nbsp;Symbol sets"><link rel="chapter" href="external_datasets.html" title="Chapter&nbsp;7.&nbsp;External datasets"><link rel="chapter" href="ExercisePlanning.html" title="Chapter&nbsp;8.&nbsp;Exercise planning"><link rel="chapter" href="viewing_narratives.html" title="Chapter&nbsp;9.&nbsp;Viewing narratives"><link rel="chapter" href="ChartBackdrops.html" title="Chapter&nbsp;10.&nbsp;Using chart backdrops"><link rel="chapter" href="sensor_data.html" title="Chapter&nbsp;11.&nbsp;Analysing sensor data"><link rel="chapter" href="tma_data.html" title="Chapter&nbsp;12.&nbsp;Management of TMA and TUA solutions"><link rel="chapter" href="dis_support.html" title="Chapter&nbsp;13.&nbsp;Support for DIS Protocol"><link rel="part" href="maintainers_guide.html" title="Part&nbsp;III.&nbsp;Maintainer's Guide"><link rel="chapter" href="participating.html" title="Chapter&nbsp;14.&nbsp;Participating in Debrief development"><link rel="chapter" href="maintainers.html" title="Chapter&nbsp;15.&nbsp;Debrief maintainer's guide"><link rel="part" href="reference_guide.html" title="Part&nbsp;IV.&nbsp;Reference Guide"><link rel="chapter" href="reference.html" title="Chapter&nbsp;16.&nbsp;Debrief file formats"><link rel="chapter" href="ScriptCookbook.html" title="Chapter&nbsp;17.&nbsp;Scripting Cookbook"><link rel="chapter" href="GeoToolsRef.html" title="Chapter&nbsp;18.&nbsp;GeoTools in Debrief"><link rel="chapter" href="chap_debrief_algorithms.html" title="Chapter&nbsp;19.&nbsp;Debrief algorithms"><link rel="chapter" href="chap_genetic_algorithms.html" title="Chapter&nbsp;20.&nbsp;Semi Automated Track Construction (SATC)"><link rel="chapter" href="dis_ref.html" title="Chapter&nbsp;21.&nbsp;System Documentation for DIS integration"><link rel="appendix" href="app_glossary.html" title="Appendix&nbsp;A.&nbsp;Debrief Glossary"><link rel="glossary" href="app_glossary.html#glossary" title="Glossary"><link rel="index" href="the_index.html" title="Index"><link rel="subsection" href="RemoveJumpsRef.html#RemoveJumpsBack" title="19.4.1.&nbsp;Background"><link rel="subsection" href="RemoveJumpsRef.html#RemoveJumpsAlg" title="19.4.2.&nbsp;Algorithm"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">19.4.&nbsp;Remove Jumps</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="other_algs.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;19.&nbsp;Debrief algorithms</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="contouring_algorithm.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect1" id="RemoveJumpsRef"><div class="titlepage"><div><div><h2 class="title" style="clear: both">19.4.&nbsp;Remove Jumps</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="RemoveJumpsRef.html#RemoveJumpsBack">19.4.1. Background</a></span></dt><dt><span class="sect2"><a href="RemoveJumpsRef.html#RemoveJumpsAlg">19.4.2. Algorithm</a></span></dt></dl></div>
        
        <div class="sect2" id="RemoveJumpsBack"><div class="titlepage"><div><div><h3 class="title">19.4.1.&nbsp;Background</h3></div></div></div>
          
          <a class="indexterm" name="d5e5959"></a>

          <p>
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.gif"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">
              <p>Read the user perspective on removing jumps in the user guide (<a class="xref" href="GroomingTrackData.html#RemoveJumpsUser" title="3.7.7.&nbsp;Removing Jumps">Section&nbsp;3.7.7, &#8220;Removing Jumps&#8221;</a>)</p>
            </td></tr></table></div><p> The initial strategy to remove drift was to find the range/direction of the jump from the last dived point to the first GPS fix. But, during implementation it became clear that this wouldn't work. What was actually needed was to "plot-on" the last dived point to derive where the dived track would be at the time of the GPS fix. The following diagram shows a stylized representation of a period of dived drift. </p><div class="screenshot">
              <div class="mediaobject"><img src="figures/JumpRefOne.png"></div>
            </div><p> In the diagram, the measured track is AEF, but the true track was AF. We can see that the correct location for B is B', C is C', and so on. So, the vector necessary to transform B to B' is 135 degs length 1.41 (sqrt(2)). This correct vector can be obtained by producing the virtual point F', which is defined as &#8220;where would F be if there hadn&#8217;t been a jump&#8221;. Using F'-F as the offset vector gives the correct result. </p>
        </div>
        <div class="sect2" id="RemoveJumpsAlg"><div class="titlepage"><div><div><h3 class="title">19.4.2.&nbsp;Algorithm</h3></div></div></div>
          
          <p>
            </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
                <p>Analyst selects period of data.</p>
              </li><li class="listitem">
                <p>The first position is stored as a &#8220;lock point&#8221;.</p>
              </li><li class="listitem">
                <p>Loop forwards through data, looking for large position deltas (where calculated speed equates to 3 or more time the measured speed travelled in the previous step).</p>
              </li><li class="listitem">
                <p>Each time we find a jump, the position after the jump is a &#8220;lock point&#8221;, the position before jump is the &#8220;jump point&#8221;. The delta between the two is the &#8220;jump offset&#8221;.</p>
              </li><li class="listitem">
                <p>From the first lock-point, move forwards through the data until you find a jump point. If a jump point is found, pass through those points, applying the relative sliced jump offset to each point.</p>
              </li></ol></div><p> The diagram belows shows the results of remove jumps. The yellow track ABCDEFG is the recorded track. The points A,C,E,G are the lock-points (GPS fixes). The blue track is the track after running remove jumps. Note that AC is longer than AB, so the algorithm has rotated and scaled AB. Similarly, CE is shorter than CD and gets scaled to produce CE. EG shows how a complex shape gets transformed to fit the lock points. </p><div class="screenshot">
              <div class="mediaobject"><img src="figures/JumpRefTwo.png"></div>
            </div><p>
          </p>
        </div>
      </div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="other_algs.html"><img src="images/prev.gif" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="chap_debrief_algorithms.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="contouring_algorithm.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">19.3.&nbsp;Other Debrief algorithms&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;19.5.&nbsp;Contouring algorithm</td></tr></table></div></body></html>